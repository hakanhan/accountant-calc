<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Canada Tax Calculator - Infralix</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 600px;
      margin: 50px auto;
      padding: 20px;
    }
    .calculator {
      border: 1px solid #ddd;
      border-radius: 8px;
      padding: 30px;
      background: #f9f9f9;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      font-size: 16px;
    }
    button {
      width: 100%;
      padding: 15px;
      background: #f1572b;
      color: white;
      border: none;
      font-size: 18px;
      cursor: pointer;
      border-radius: 5px;
    }
    button:hover {
      background: #d14520;
    }
    .results {
      margin-top: 30px;
      padding: 20px;
      background: white;
      border-radius: 5px;
      display: none;
    }
    .results.show {
      display: block;
    }
    .result-line {
      display: flex;
      justify-content: space-between;
      padding: 10px 0;
      border-bottom: 1px solid #eee;
    }
    .total {
      font-weight: bold;
      font-size: 20px;
      color: #f1572b;
    }
    .cta-box {
      margin-top: 30px;
      padding: 20px;
      background: #fff3e0;
      border-radius: 5px;
    }
    .cta-box h3 {
      margin-top: 0;
    }
    .cta-box a {
      color: #f1572b;
      font-weight: bold;
      text-decoration: none;
    }
    .disclaimer {
      margin-top: 20px;
      padding: 15px;
      background: #fff3cd;
      border-radius: 5px;
      font-size: 12px;
    }
  </style>
</head>
<body>

<div class="calculator">
  <h1>üá®üá¶ Canada Income Tax Calculator 2025</h1>
  <p>Free Tool by <strong>NU Professional</strong></p>
  
  <label>Province:</label>
  <select id="province">
    <option value="ON">Ontario</option>
    <option value="BC">British Columbia</option>
    <option value="AB">Alberta</option>
    <option value="QC">Quebec</option>
    <option value="NS">Nova Scotia</option>
    <option value="NB">New Brunswick</option>
    <option value="MB">Manitoba</option>
    <option value="SK">Saskatchewan</option>
    <option value="PE">Prince Edward Island</option>
    <option value="NL">Newfoundland</option>
  </select>
  
  <label>Annual Income (before tax):</label>
  <input type="number" id="income" placeholder="75000" min="0" step="1000">
  
  <button onclick="calculateTax()">Calculate Tax</button>
  
  <div id="results" class="results">
    <h2>üìä Your Results</h2>
    <div class="result-line">
      <span>Gross Income:</span>
      <span id="gross"></span>
    </div>
    <div class="result-line">
      <span>Federal Tax:</span>
      <span id="federal"></span>
    </div>
    <div class="result-line">
      <span>Provincial Tax:</span>
      <span id="provincial"></span>
    </div>
    <div class="result-line total">
      <span>Total Tax:</span>
      <span id="total"></span>
    </div>
    <div class="result-line total">
      <span>Net Income:</span>
      <span id="net"></span>
    </div>
    <div class="result-line">
      <span>Effective Tax Rate:</span>
      <span id="rate"></span>
    </div>
    <div class="result-line">
      <span>Tax Bracket:</span>
      <span id="bracket"></span>
    </div>
    
    <div class="cta-box">
      <h3>üí° Need Business Tax Help?</h3>
      <p>Infralix Invoice Manager helps small businesses track income, expenses, and prepare tax documents.</p>
      <a href="/signup">Learn More ‚Üí</a>
    </div>
  </div>
  
  <div class="disclaimer">
    ‚ö†Ô∏è <strong>Disclaimer:</strong> This calculator provides an estimate only. 
    Actual taxes may vary. This is not professional tax advice. 
    Consult a tax professional for accuracy.
  </div>
</div>

<script>
// 2025 Canada Tax Brackets (Federal)
const federalBrackets = [
  { limit: 55867, rate: 0.15 },
  { limit: 111733, rate: 0.205 },
  { limit: 173205, rate: 0.26 },
  { limit: 246752, rate: 0.29 },
  { limit: Infinity, rate: 0.33 }
];

// Provincial brackets
const provincialBrackets = {
  ON: [
    { limit: 51446, rate: 0.0505 },
    { limit: 102894, rate: 0.0915 },
    { limit: 150000, rate: 0.1116 },
    { limit: 220000, rate: 0.1216 },
    { limit: Infinity, rate: 0.1316 }
  ],
  BC: [
    { limit: 47937, rate: 0.0506 },
    { limit: 95875, rate: 0.077 },
    { limit: 110076, rate: 0.105 },
    { limit: 133664, rate: 0.1229 },
    { limit: 181232, rate: 0.147 },
    { limit: Infinity, rate: 0.168 }
  ],
  AB: [
    { limit: 148269, rate: 0.10 },
    { limit: 177922, rate: 0.12 },
    { limit: 237230, rate: 0.13 },
    { limit: 355845, rate: 0.14 },
    { limit: Infinity, rate: 0.15 }
  ],
  QC: [
    { limit: 51780, rate: 0.14 },
    { limit: 103545, rate: 0.19 },
    { limit: 126000, rate: 0.24 },
    { limit: Infinity, rate: 0.2575 }
  ],
  NS: [
    { limit: 29590, rate: 0.0879 },
    { limit: 59180, rate: 0.1495 },
    { limit: 93000, rate: 0.1667 },
    { limit: 150000, rate: 0.175 },
    { limit: Infinity, rate: 0.21 }
  ]
};

function calculateTax() {
  const income = parseFloat(document.getElementById('income').value);
  const province = document.getElementById('province').value;
  
  if (!income || income <= 0) {
    alert('Please enter a valid income');
    return;
  }
  
  // Calculate federal tax
  const federalTax = calculateBracketTax(income, federalBrackets);
  
  // Calculate provincial tax
  const provBrackets = provincialBrackets[province] || provincialBrackets.ON;
  const provincialTax = calculateBracketTax(income, provBrackets);
  
  // Basic personal amount (simplified)
  const federalBasic = 15000 * 0.15; // $2,250
  const provincialBasic = province === 'ON' ? 11865 * 0.0505 : 0; // ~$600
  
  const totalFederalTax = Math.max(0, federalTax - federalBasic);
  const totalProvincialTax = Math.max(0, provincialTax - provincialBasic);
  const totalTax = totalFederalTax + totalProvincialTax;
  const netIncome = income - totalTax;
  const effectiveRate = (totalTax / income * 100).toFixed(1);
  
  // Find marginal bracket
  const federalBracket = findBracket(income, federalBrackets);
  const provBracket = findBracket(income, provBrackets);
  const marginalRate = ((federalBracket + provBracket) * 100).toFixed(2);
  
  // Display results
  document.getElementById('gross').textContent = '$' + income.toLocaleString();
  document.getElementById('federal').textContent = '$' + Math.round(totalFederalTax).toLocaleString();
  document.getElementById('provincial').textContent = '$' + Math.round(totalProvincialTax).toLocaleString();
  document.getElementById('total').textContent = '$' + Math.round(totalTax).toLocaleString();
  document.getElementById('net').textContent = '$' + Math.round(netIncome).toLocaleString();
  document.getElementById('rate').textContent = effectiveRate + '%';
  document.getElementById('bracket').textContent = marginalRate + '%';
  
  document.getElementById('results').classList.add('show');
}

function calculateBracketTax(income, brackets) {
  let tax = 0;
  let previousLimit = 0;
  
  for (let bracket of brackets) {
    if (income > previousLimit) {
      const taxableInBracket = Math.min(income - previousLimit, bracket.limit - previousLimit);
      tax += taxableInBracket * bracket.rate;
      previousLimit = bracket.limit;
    } else {
      break;
    }
  }
  
  return tax;
}

function findBracket(income, brackets) {
  for (let bracket of brackets) {
    if (income <= bracket.limit) {
      return bracket.rate;
    }
  }
  return brackets[brackets.length - 1].rate;
}
</script>

</body>
</html>